<%- include('partials/header', {title: projects[0].name}) -%>

    <!-- Menu -->
      <section class="drawer drawer-end flex-grow">
        <input id="my-drawer-4" type="checkbox" class="drawer-toggle" />
        <div class="drawer-content flex">
          <%- include('partials/sidebar') -%>
          <!-- Page content here -->
          <div class="flex-col w-full px-6 pb-16 pt-6">
            <div class="mb-5">Hello, <%= user.userName %></div>
            <% if(projects.length) { %>
            <div>Project Name: <%= projects[0].name%></div>
            <div>Description: <%= projects[0].description%></div>
            <div>Due Date: <%= projects[0].dueDate.toUTCString().slice(5,16)%></div>

            <% } %>
            <div class="pt-2" id="addTaskButton"><label for="my-drawer-4" class="drawer-button btn btn-sm text-center">Add task</label></div>
            <div class="flex pt-6 h-5/6">
              <div class="flex-col w-1/3">
                <div class="text-center">To Do</div>
                <% if(todos.length) { %>
                <% for(let i=0; i<todos.length; i++) {%>
                <!-- <div class="pt-5 pb-1">TITLE</div>  -->
                <div class="todo pt-5 pb-1">
                  <label for="my-drawer-4" class="drawer-button grid h-20 card rounded-box place-items-center grid-row-2 cursor-pointer <%= todos[i].assignedTo === 'Open'  ? 'bg-primary' : todos[i].assignedTo === user.email ? 'bg-base-300' : 'bg-base-200'%>"><%= todos[i].description%></label>
                  <section class="flex justify-between text-sm">
                    <div class="opacity-50">Due Date: <%= todos[i].dueDate.toUTCString().slice(5,16)%></div>
                    <div class="opacity-50">Assigned To: <%= todos[i].assignedTo%></div>
                  </section>
                </div>
                <% } %>
                <% } %>
              </div>
              <div class="divider divider-horizontal"></div>
              <div class="flex-col w-1/3">
                <div class="text-center">Doing</div>
                <% if(doing.length) { %>
                <% for(let i=0; i<doing.length; i++) {%>
                  <div class="doing pt-5 pb-1">
                    <label for="my-drawer-4" class="drawer-button grid h-20 card rounded-box place-items-center grid-row-2 cursor-pointer <%= doing[i].assignedTo === 'Open'  ? 'bg-primary' : doing[i].assignedTo === user.email ? 'bg-base-300' : 'bg-base-200'%>"><%= doing[i].description%></label>
                    <section class="flex justify-between text-sm">
                      <div class="opacity-50">Due Date: <%= doing[i].dueDate.toUTCString().slice(5,16)%></div>
                      <div class="opacity-50">Assigned To: <%= doing[i].assignedTo%></div>
                    </section>
                  </div>
                <% } %>
                <% } %>
              </div>
              <div class="divider divider-horizontal"></div>
              <div class="flex-col w-1/3">
                <div class="text-center">Done</div>
                <% if(done.length) { %>
                <% for(let i=0; i<done.length; i++) {%>
                  <div class="done pt-5 pb-1">
                    <label for="my-drawer-4" class="drawer-button grid h-20 card rounded-box place-items-center grid-row-2 cursor-pointer <%= done[i].assignedTo === 'Open'  ? 'bg-primary' : done[i].assignedTo === user.email ? 'bg-base-300' : 'bg-base-200'%>"><%= done[i].description%></label>
                    <section class="flex justify-between text-sm">
                      <div class="opacity-50">Due Date: <%= done[i].dueDate.toUTCString().slice(5,16)%></div>
                      <div class="opacity-50">Assigned To: <%= done[i].assignedTo%></div>
                    </section>
                  </div>
                <% } %>
                <% } %>
              </div>
            </div>
        </div>
      </div>


<%- include('partials/drawer', {project: projects[0]}) -%>
<%- include('partials/footer') -%>